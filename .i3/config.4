# ####################################################################################
# Last review            Mon 13 Oct 2014 01:15:00 PM CDT
# #####################################################################################
#  vim: set ts=8 sw=4 tw=0 ft=conf :

# ###################################
# ############ AUTOSTART ############
# ###################################

# execute startup programs
# exec_always
exec --no-startup-id minos-autostart

# ###################################
# ######## GENERAL SETTINGS #########
# ###################################

# Window border style:
# bn: border normal, with window title bar;
# bp: border only, no window title bar;
# bb: no berder or window title bar.
new_window 1pixel
#default_orientation auto | vertical | horizontal
#hide_edge_borders <none|vertical|horizontal|both>
# ----------------------------------<

# workspaces
set $w1 www
set $w2 work
set $w3 work
set $w4 im
set $w5 mail
set $w6 files
set $w7 work
set $w8 work
set $w9 work
set $w10 work
set $w11 work
set $w12 work
set $w13 work
set $w14 work
set $w15 work
set $w16 work
set $w17 work
set $w18 work
set $w19 work
set $w20 work

# ISO 10646 = Unicode
#font -misc-fixed-medium-r-normal--13-120-75-75-C-70-iso10646-1
font xft:Bahamas 9
#font -xos4-terminus-medium-r-*--12-*-*-*-*-*-iso10646-1

### IPC INTERFACE ###

# The IPC interface allows external programs to manipulate i3
ipc-socket ~/.i3/ipc.sock

# ###################################
# ######## KEYBOARD BINDINGS ########
# ###################################

# This configuration uses Mod1 and Mod3. Make sure they are mapped properly using xev(1)
# and xmodmap(1). Usually, Mod1 is Alt (Alt_L) and Mod3 is Windows (Super_L)
# Mod4 is <Win> and Mod1 is <Alt>
set $Win   Mod4
set $Alt   Mod1
set $Altgr Mod5
set $Shift_R 62

set $Esc      9
set $Enter   36
set $Space   65
set $Insert 118
set $Supr   119
set $ImpPt  107

# Use $Win+Space to drag floating windows
floating_modifier $Win

# fullscreen mode
bindsym $Win+f fullscreen

# stacking mode
bindsym $Win+s layout stacking

# tabbed mode
bindsym $Win+a layout tabbed

# default mode
bindsym $Win+d layout default

# toggle tiling/floating of current window
bindcode $Win+Shift+$Space floating toggle

# change focus
bindsym $Win+h      focus left
bindsym $Win+j      focus down
bindsym $Win+k      focus up
bindsym $Win+l      focus right
# alternatively, use cursor keys
#bindsym $Win+Left  focus left
#bindsym $Win+Down  focus down
#bindsym $Win+Up    focus up
#bindsym $Win+Right focus right

# scratchpad, i3 => 4.x
# send to scratchpad
bindcode $Win+$Insert move scratchpad
# show scratchpad
bindcode $Win+$Space  scratchpad show

# focus container
#bindsym $Alt+h focus parent; focus left
#bindsym $Alt+j focus parent; focus down
#bindsym $Alt+k focus parent; focus up
#bindsym $Alt+l focus parent; focus right

# snap
#bindsym $Win+Control+h     layout stacking
#bindsym $Win+Control+j     layout stacking
#bindsym $Win+Control+k     layout stacking
#bindsym $Win+Control+l     layout stacking
# (alternatively, you can use the cursor keys:)
#bindsym $Win+Control+Left  layout stacking
#bindsym $Win+Control+Down  layout stacking
#bindsym $Win+Control+Up    layout stacking
#bindsym $Win+Control+Right layout stacking

# move
bindsym $Win+Shift+h      move left
bindsym $Win+Shift+j      move down
bindsym $Win+Shift+k      move up
bindsym $Win+Shift+l      move right
# (alternatively, use cursor keys:)
#bindsym $Win+Shift+Left  move left
#bindsym $Win+Shift+Down  move down
#bindsym $Win+Shift+Up    move up
#bindsym $Win+Shift+Right move right

# move container
#bindsym $Alt+$Win+Shift+$h focus parent; move left
#bindsym $Alt+$Win+Shift+$j focus parent; move down
#bindsym $Alt+$Win+Shift+$k focus parent; move up
#bindsym $Alt+$Win+Shift+$l focus parent; move right

# workspaces
bindsym $Win+1 workspace 1 $w1
bindsym $Win+2 workspace 2 $w2
bindsym $Win+3 workspace 3 $w3
bindsym $Win+4 workspace 4 $w4
bindsym $Win+5 workspace 5 $w5
bindsym $Win+6 workspace 6 $w6
bindsym $Win+7 workspace 7 $w7
bindsym $Win+8 workspace 8 $w8
bindsym $Win+9 workspace 9 $w9
bindsym $Win+0 workspace 10 $w10
bindsym $Win+q workspace 11 $w11
bindsym $Win+w workspace 12 $w12
bindsym $Win+e workspace 13 $w13
bindsym $Win+r workspace 14 $w14
bindsym $Win+t workspace 15 $w15
bindsym $Win+y workspace 16 $w16
bindsym $Win+u workspace 17 $w17
bindsym $Win+i workspace 18 $w18
bindsym $Win+o workspace 19 $w19
bindsym $Win+p workspace 20 $w20

bindsym $Win+Right workspace next
bindsym $Win+Left  workspace prev

# move
bindsym $Win+Shift+1 move workspace 1 $w1
bindsym $Win+Shift+2 move workspace 2 $w2
bindsym $Win+Shift+3 move workspace 3 $w3
bindsym $Win+Shift+4 move workspace 4 $w4
bindsym $Win+Shift+5 move workspace 5 $w5
bindsym $Win+Shift+6 move workspace 6 $w6
bindsym $Win+Shift+7 move workspace 7 $w7
bindsym $Win+Shift+8 move workspace 8 $w8
bindsym $Win+Shift+9 move workspace 9 $w9
bindsym $Win+Shift+0 move workspace 10 $w10

# i3 => 4.x
# ---------------------------------->
bindsym $Win+Shift+q move workspace 11 $w11
bindsym $Win+Shift+w move workspace 12 $w12
bindsym $Win+Shift+e move workspace 13 $w13
bindsym $Win+Shift+r move workspace 14 $w14
bindsym $Win+Shift+t move workspace 15 $w15
bindsym $Win+Shift+y move workspace 16 $w16
bindsym $Win+Shift+u move workspace 17 $w17
bindsym $Win+Shift+i move workspace 18 $w18
bindsym $Win+Shift+o move workspace 19 $w19
bindsym $Win+Shift+p move workspace 20 $w20
# ----------------------------------<

# help
bindsym F1 exec  minos-help

# terminal
bindcode $Win+$Enter       exec x-terminal-emulator
bindcode $Win+Shift+$Enter split h

# dmenu-run
bindcode $Alt+$Esc exec    dmenu-run

# exit i3
#bindsym Control+$Alt+e exit

# restarts i3 inplace
#bindsym Control+$Alt+r restart

# lock session
bindsym Control+$Alt+l exec dmenu-session lock

# dmenu-session
bindcode Control+$Alt+$Supr exec dmenu-session

# toggle windows transparency
#bindsym Control+Shift+t exec transset -p

# mutt
bindsym $Altgr+m exec x-terminal-emulator -title "mutt" -e mutt

# magnifier
bindsym $Altgr+Shift+M exec magnifier

# irssi
#bindsym Control+Shift+i exec x-terminal-emulator -e irssi
bindsym $Altgr+i         exec x-terminal-emulator -title "irssi" -e bash -c "irssi --config=<(gpg -d $HOME/.irssi/config.gpg)"

# ncmpcpp
bindsym $Altgr+Shift+p   exec x-terminal-emulator -e ncmpcpp

# wicd-curses
bindsym $Altgr+n         exec x-terminal-emulator -e wicd-curses

# alsamixer
#bindsym Control+Shift+a exec x-terminal-emulator -e alsamixer
#bindsym Control+Shift+a exec /bin/sh -c alsamixer

# pcmanfm
bindsym $Altgr+f   exec pcmanfm

# volume ($Altgr+,) ($Altgr+.)
bindcode $Altgr+59 exec amixer -q set Master 1-
# unmute if mutted
bindcode $Altgr+60 exec sh -c 'amixer -q set Master 1+ && [ -n "$(amixer | awk /Master/-/Mono:/ | head -2 | awk /off/)" ] && amixer -q set Master unmute || true'

# volume, multimedia keys
bindsym XF86AudioRaiseVolume exec sh -c 'amixer -q set Master 1+ && [ -n "$(amixer | awk /Master/-/Mono:/ | head -2 | awk /off/)" ] && amixer -q set Master unmute || true'
bindsym XF86AudioLowerVolume exec amixer -q set Master 1-
bindsym XF86AudioMute        exec amixer -q set Master toggle

# mplayer|mpd ($Altgr+¿) ($Altg+´)
bindsym  $Altgr+p  exec music-control toggle
bindcode $Altgr+21 exec music-control next
bindcode $Altgr+34 exec music-control previous

# mplayer|mpd multimedia keys
bindsym XF86AudioPlay exec music-control toggle
bindsym XF86AudioStop exec music-control toggle
bindsym XF86AudioNext exec music-control next
bindsym XF86AudioPrev exec music-control previous

# brightness control
bindsym XF86MonBrightnessDown exec xbacklight -steps 1 -time 0 -dec 1
bindsym XF86MonBrightnessUp   exec xbacklight -steps 1 -time 0 -inc 1

# shift input keyboard layouts
bindcode $Alt+$Shift_R   exec shift-keyboard-layout

# toggle screen powersave
bindcode $Altgr+$Space exec movietime

# kill ($Altgr+k)
bindsym $Altgr+k kill

# dmenu-killall
bindsym $Altgr+l exec dmenu-killall

# song
bindsym $Altgr+s exec dmenu-mpd

# xrandr
bindsym $Altgr+x    exec dmenu-xrandr
bindsym XF86Display exec dmenu-xrandr

# vbox
bindsym $Altgr+v exec dmenu-vbox

# tell
bindsym $Altgr+t exec dmenu-tell

# dmenu-coundown
bindsym $Altgr+c exec dmenu-countdown

# screenshot
bindcode $ImpPt      exec screenshot
# selective screenshot
bindcode $Alt+$ImpPt exec screenshot -s

# screencast
bindcode $Win+$ImpPt       exec ffcast
# selective screenshot
bindcode $Win+$Alt+$ImpPt  exec ffcast -s
bindcode Control+$ImpPt    exec gifcast
bindcode $Win+Shift+$ImpPt exec ffcast -k

# go to the urgent flag set
#bindsym $Win+x [urgent=latest] focus

mode "resize" {
        # These bindings trigger as soon as you enter the resize mode

        # They resize the border in the direction you pressed, e.g.
        # when pressing left, the window is resized so that it has
        # more space on its left

        bindsym h resize grow left 10 px
        #bindsym Shift+h resize grow left 10 px

        #bindsym t resize shrink up 10 px
        bindsym j resize shrink up 10 px

        bindsym k resize grow up 10 px
        #bindsym Shift+k resize grow down 10 px

        #bindsym l resize grow right 10 px
        bindsym l resize shrink left 10 px

        #Exit resize mode
        bindsym $Altgr+x mode "default"
}

# Enter resize mode
bindsym $Altgr+z mode "resize"

# Get me to the next open VIM instance
#bindsym $Win+v [class="buzz" title="VIM"] focus
#bindsym $Win+m [class="buzz" title="mutt"] focus

# Read 1 character and mark the current window with this character
bindsym $Win+m   exec i3-input -p 'mark ' -l 1 -P 'Mark: '

# Read 1 character and go to the window with the character
bindcode $Win+20 exec i3-input -p 'goto ' -l 1 -P 'Go: '

# ###################################
# ############# ASSIGNS #############
# ###################################

# Just for i3.4
for_window [class="Magnifier"] floating enable
for_window [class="Xmessage"]  floating enable
for_window [class="Gxmessage"] floating enable
for_window [class="^URxvt$" instance="scratchpad"] border 1pixel; move scratchpad
for_window [class="^TeamViewer.exe$"] floating enable
for_window [title="^TeamViewer$"] floating enable
for_window [title="- TeamViewer -"] floating enable
for_window [class="Firefox" title="^About.*"] floating enable
for_window [class="realvnc-vncviewer"] floating enable
for_window [class="Xarchiver" title="Xarchiver$"] floating enable

# popup_during_fullscreen <smart|ignore|leave_fullscreen> smart is default
#popup_during_fullscreen ignore
workspace_auto_back_and_forth yes

# makes the window floating as soon as I change
# directory to ~/work
#for_window [title="x200: ~/work"] floating enable

# Assigns default monitor for workspaces
#workspace "1 www" output VGA1
workspace "1 \$w1" output HDMI1

# Assigns default workspaces for app
# assign ["]window class[/window title]["] [→] [~ | workspace]

assign [class="Firefox"]               1 $w1
assign [class="^URxvt$" title="irssi"] 4 $w4
assign [class="^URxvt$" title="mutt"]  5 $w5
assign [class="Thunderbird"]           5 $w5
assign [class="Pcmanfm"]               6 $w6
assign [class="Nautilus"]              6 $w6

# ###################################
# ############# COLORS ##############
# ###################################

#  colorclass            border          background      text

# arch
#client.focused          #1793D1         #1793D1         #ffffff
#client.focused_inactive #666666         #666666         #ffffff
#client.unfocused        #333333         #333333         #ffffff
#client.urgent           #D11931         #D11931         #ffffff

# freebsd
#client.focused          #990000         #990000         #ffffff
#client.focused_inactive #666666         #666666         #ffffff
#client.unfocused        #333333         #333333         #ffffff
#client.urgent           #D11931         #D11931         #ffffff

# gentoo
#client.focused          #7a5ada         #7a5ada         #ffffff
#client.focused_inactive #45347b         #45347b         #ffffff
#client.unfocused        #333333         #333333         #ffffff
#client.urgent           #D11931         #D11931         #ffffff

# dark
client.focused          #999999      #999999      #000000
client.focused_inactive #333333      #333333      #999999
client.unfocused        #333333      #333333      #999999
client.urgent           #8C4665      #8C5665      #999999

bar {
    status_command minos-statusbar
    position bottom
    tray_output none
    font pango:Inconsolata 9
    workspace_buttons yes
    #mode hide
    #modifier $Win
    colors {
        background #000000
        statusline #ffffff
        focused_workspace  #999999 #000000 #999999
        active_workspace   #999999 #000000 #999999
        inactive_workspace #333333 #000000 #999999
        urgent_workspace   #d11931 #000000 #999999
    }
}
