######################################################################################
# Last review            Thu 12 Jun 2014 10:57:25 PM CDT
# #####################################################################################
#  vim: set ts=8 sw=4 tw=0 ft=conf :

# ###################################
# ############ AUTOSTART ############
# ###################################

# execute startup programs
# exec_always
exec --no-startup-id ~/.i3/startup

# ###################################
# ######## GENERAL SETTINGS #########
# ###################################

# Window border style:
# bn: border normal, with window title bar;
# bp: border only, no window title bar;
# bb: no berder or window title bar.
new_window 1pixel
#default_orientation auto | vertical | horizontal
#hide_edge_borders <none|vertical|horizontal|both>
# ----------------------------------<

# workspace names
# XXX: workspace name will end up in the corresponding bindings.

# ISO 10646 = Unicode
#font -misc-fixed-medium-r-normal--13-120-75-75-C-70-iso10646-1
font xft:Bahamas 9
#font -xos4-terminus-medium-r-*--12-*-*-*-*-*-iso10646-1

### IPC INTERFACE ###

# The IPC interface allows external programs to manipulate i3
ipc-socket ~/.i3/ipc.sock

# ###################################
# ######## KEYBOARD BINDINGS ########
# ###################################

# This configuration uses Mod1 and Mod3. Make sure they are mapped properly using xev(1)
# and xmodmap(1). Usually, Mod1 is Alt (Alt_L) and Mod3 is Windows (Super_L)
# Mod4 is <Win> and Mod1 is <Alt>
set $Win   Mod4
set $Alt   Mod1
set $Altgr Mod5

# Use $Win+Space to drag floating windows
floating_modifier $Win

# help
bindsym F1 exec minos-help

# fullscreen mode ($Win+f)
bindcode $Win+41 fullscreen

# stacking mode ($Win+s)
bindcode $Win+39 layout stacking

# tabbed mode ($Win+a)
bindcode $Win+38 layout tabbed

# default mode ($Win+d)
bindcode $Win+40 layout default

# toggle tiling/floating of current window ($Win+Shift+Space)
bindcode $Win+Shift+65 floating toggle

# change focus ($Win+h/j/k/l)
bindcode $Win+43 focus left
bindcode $Win+44 focus down
bindcode $Win+45 focus up
bindcode $Win+46 focus right
# alternatively, use cursor keys
#bindsym $Win+Left  focus left
#bindsym $Win+Down  focus down
#bindsym $Win+Up    focus up
#bindsym $Win+Right focus right

# scratchpad, i3 => 4.x
# send to scratchpad ($Win+Insert)
bindcode $Win+118 move scratchpad
# show scratchpad ($Win+Space)
bindcode $Win+65  scratchpad show

# focus container ($Alt+h/j/k/l)
#bindcode $Alt+43 focus parent; focus left
#bindcode $Alt+44 focus parent; focus down
#bindcode $Alt+45 focus parent; focus up
#bindcode $Alt+46 focus parent; focus right

# snap ($Win+Control+h/j/k/l)
#bindcode $Win+Control+43   layout stacking
#bindcode $Win+Control+44   layout stacking
#bindcode $Win+Control+45   layout stacking
#bindcode $Win+Control+46   layout stacking
# (alternatively, you can use the cursor keys:)
#bindsym $Win+Control+Left  layout stacking
#bindsym $Win+Control+Down  layout stacking
#bindsym $Win+Control+Up    layout stacking
#bindsym $Win+Control+Right layout stacking

# move ($Win+Shift+h/j/k/l)
bindcode $Win+Shift+43 move left
bindcode $Win+Shift+44 move down
bindcode $Win+Shift+45 move up
bindcode $Win+Shift+46 move right
# (alternatively, use cursor keys:)
#bindsym $Win+Shift+Left  move left
#bindsym $Win+Shift+Down  move down
#bindsym $Win+Shift+Up    move up
#bindsym $Win+Shift+Right move right

# move container (Mod3+Shift+h/j/k/l)
#bindcode $Alt+$Win+Shift+43 focus parent; move left
#bindcode $Alt+$Win+Shift+44 focus parent; move down
#bindcode $Alt+$Win+Shift+45 focus parent; move up
#bindcode $Alt+$Win+Shift+46 focus parent; move right

# workspaces ($Win+1/2/…)
bindcode $Win+10 workspace 1 www
bindcode $Win+11 workspace 2 work
bindcode $Win+12 workspace 3 work
bindcode $Win+13 workspace 4 im
bindcode $Win+14 workspace 5 mail
bindcode $Win+15 workspace 6 files
bindcode $Win+16 workspace 7 work
bindcode $Win+17 workspace 8 news
bindcode $Win+18 workspace 9 work
bindcode $Win+19 workspace 10 work
bindcode $Win+24 workspace 11 work
bindcode $Win+25 workspace 12 work
bindcode $Win+26 workspace 13 work
bindcode $Win+27 workspace 14 work
bindcode $Win+28 workspace 15 work
bindcode $Win+29 workspace 16 work
bindcode $Win+30 workspace 17 work
bindcode $Win+31 workspace 18 work
bindcode $Win+32 workspace 19 work
bindcode $Win+33 workspace 20 work

bindsym $Win+Right workspace next
bindsym $Win+Left  workspace prev

# move
bindcode $Win+Shift+10 move workspace 1 www
bindcode $Win+Shift+11 move workspace 2 work
bindcode $Win+Shift+12 move workspace 3 work
bindcode $Win+Shift+13 move workspace 4 im
bindcode $Win+Shift+14 move workspace 5 mail
bindcode $Win+Shift+15 move workspace 6 files
bindcode $Win+Shift+16 move workspace 7 work
bindcode $Win+Shift+17 move workspace 8 news
bindcode $Win+Shift+18 move workspace 9 work
bindcode $Win+Shift+19 move workspace 10 work

# i3 => 4.x
# ---------------------------------->
bindcode $Win+Shift+24 move workspace 11 work
bindcode $Win+Shift+25 move workspace 12 work
bindcode $Win+Shift+26 move workspace 13 work
bindcode $Win+Shift+27 move workspace 14 work
bindcode $Win+Shift+28 move workspace 15 work
bindcode $Win+Shift+29 move workspace 16 work
bindcode $Win+Shift+30 move workspace 17 work
bindcode $Win+Shift+31 move workspace 18 work
bindcode $Win+Shift+32 move workspace 19 work
bindcode $Win+Shift+33 move workspace 20 work
# ----------------------------------<

# terminal ($Win+Enter)
bindcode $Win+36         exec x-terminal-emulator
bindcode $Win+Shift+36   split h

# dmenu-run ($Alt+Esc)
bindcode $Alt+9 exec dmenu-run

# exit i3 (Control+$Alt+e)
#bindcode Control+$Alt+26 exit

# restarts i3 inplace (Control+$Alt+r)
#bindcode Control+$Alt+27 restart

# lock session (Control+$Alt+l)
bindcode Control+$Alt+46  exec  i3lock -i $HOME/.data/images/wallpapers/lock.png -n -t &

# dmenu-session (Control+$Alt+Supr)
bindcode Control+$Alt+119 exec dmenu-session

# toggle windows transparency
#bindsym Control+Shift+t exec transset -p

# mutt
bindsym $Altgr+m         exec x-terminal-emulator -title "mutt" -e mutt

# magnifier
bindsym $Altgr+Shift+m   exec magnifier

# irssi
#bindsym Control+Shift+i exec x-terminal-emulator -e irssi
bindsym $Altgr+i         exec x-terminal-emulator -title "irssi" -e bash -c "irssi --config=<(gpg -d $HOME/.irssi/config.gpg)"

# ncmpcpp
bindsym $Altgr+Shift+p   exec x-terminal-emulator -e ncmpcpp

# wicd-curses
bindsym $Altgr+n         exec x-terminal-emulator -e wicd-curses

# alsamixer
#bindsym Control+Shift+a exec x-terminal-emulator -e alsamixer
#bindsym Control+Shift+a exec /bin/sh -c alsamixer

# pcmanfm
bindsym $Altgr+f   exec pcmanfm

# volume ($Altgr+,) ($Altgr+.)
bindcode $Altgr+59 exec amixer -q set Master 1-
#unmute if mutted
bindcode $Altgr+60 exec sh -c 'amixer -q set Master 1+ && [ -n "$(amixer | awk /Master/-/Mono:/ | head -2 | awk /off/)" ] && amixer -q set Master unmute || true'

# mplayer|mpd ($Altgr+¿) ($Altg+´)
bindsym  $Altgr+p  exec music-control pause
bindcode $Altgr+21 exec music-control next
bindcode $Altgr+34 exec music-control previous

# shift input keyboard layouts ($Alt+RightShift)
bindcode $Alt+62   exec shift-keyboard-layout

# toggle screen powersave ($Altgr+Space)
bindcode $Altgr+65 exec movietime

# kill ($Altgr+k)
bindcode $Altgr+45 kill

# dmenu-killall ($Altgr+l)
bindcode $Altgr+46 exec dmenu-killall

# song
bindsym $Altgr+s   exec dmenu-mpd

# xrandr
bindsym $Altgr+x   exec dmenu-xrandr

# vbox
bindsym $Altgr+v   exec dmenu-vbox

# tell
bindsym $Altgr+t   exec dmenu-tell

# dmenu-coundown
bindsym $Altgr+c   exec dmenu-countdown

# screenshot (ImpPt)
bindcode 107       exec screenshot
# selective screenshot ($Alt+ImpPt)
bindcode $Alt+107  exec screenshot -s

# screencast ($Win+ImpPt)
bindcode $Win+107  exec ffcast
# selective screenshot ($Win+Shift+ImpPt)
bindcode $Win+$Alt+107  exec ffcast -s
bindcode Control+107    exec gifcast
bindcode $Win+Shift+107 exec ffcast -k

# go to the urgent flag set
#bindsym $Win+x [urgent=latest] focus

mode "resize" {
        # These bindings trigger as soon as you enter the resize mode

        # They resize the border in the direction you pressed, e.g.
        # when pressing left, the window is resized so that it has
        # more space on its left

        bindsym h resize grow left 10 px
        #bindsym Shift+h resize grow left 10 px

        #bindsym t resize shrink up 10 px
        bindsym j resize shrink up 10 px

        bindsym k resize grow up 10 px
        #bindsym Shift+k resize grow down 10 px

        #bindsym l resize grow right 10 px
        bindsym l resize shrink left 10 px

        #Exit resize mode
        bindsym $Altgr+x mode "default"
}

# Enter resize mode
bindsym $Altgr+z mode "resize"

# Get me to the next open VIM instance
#bindsym $Win+v [class="buzz" title="VIM"] focus
#bindsym $Win+m [class="buzz" title="mutt"] focus

# Read 1 character and mark the current window with this character
bindsym $Win+m   exec i3-input -p 'mark ' -l 1 -P 'Mark: '

# Read 1 character and go to the window with the character
bindcode $Win+20 exec i3-input -p 'goto ' -l 1 -P 'Go: '

# ###################################
# ############# ASSIGNS #############
# ###################################

# Just for i3.4
for_window [class="Magnifier"] floating enable
for_window [class="Xmessage"] floating enable
for_window [class="Gxmessage"] floating enable
for_window [class="^URxvt$" instance="scratchpad"] border 1pixel; move scratchpad
for_window [class="^TeamViewer.exe$"] floating enable
for_window [title="^TeamViewer$"] floating enable
for_window [title="- TeamViewer -"] floating enable
for_window [class="Firefox" title="^About.*"] floating enable
for_window [class="realvnc-vncviewer"] floating enable
for_window [class="Xarchiver" title="Xarchiver$"] floating enable

# popup_during_fullscreen <smart|ignore|leave_fullscreen> smart is default
#popup_during_fullscreen ignore
workspace_auto_back_and_forth yes

# makes the window floating as soon as I change
# directory to ~/work
#for_window [title="x200: ~/work"] floating enable

# Assigns default monitor for workspaces
#workspace "1 www" output VGA1
workspace "1 www" output HDMI1

# Assigns default workspaces for app
# assign ["]window class[/window title]["] [→] [~ | workspace]

assign [class="Firefox"]                                "1 www"
assign [class="^URxvt$" title="irssi"]                  "4 im"
assign [class="^URxvt$" title="mutt"]                   "5 mail"
assign [class="Thunderbird"]                            "5 mail"
assign [class="Liferea"]                                "8 news"
assign [class="Pcmanfm"]                                "6 files"
assign [class="Nautilus"]                               "6 files"

# ###################################
# ############# COLORS ##############
# ###################################

#  colorclass            border          background      text

# arch linux
#client.focused          #1793D1         #1793D1         #ffffff
#client.focused_inactive #666666         #666666         #ffffff
#client.unfocused        #333333         #333333         #ffffff
#client.urgent           #D11931         #D11931         #ffffff
#bar.focused             #1793d1         #1793d1         #ffffff
#bar.unfocused           #333333         #333333         #ffffff
#bar.urgent              #d11931         #d11931         #ffffff

# freebsd
#client.focused         #990000         #990000         #ffffff
#client.focused_inactive        #666666         #666666         #ffffff
#client.unfocused       #333333         #333333         #ffffff
#client.urgent          #D11931         #D11931         #ffffff
#bar.focused            #990000         #990000         #ffffff
#bar.unfocused          #333333         #333333         #ffffff
#bar.urgent             #d11931         #d11931         #ffffff

# gentoo
#client.focused         #7a5ada         #7a5ada         #ffffff
#client.focused_inactive        #45347b         #45347b         #ffffff
#client.unfocused       #333333         #333333         #ffffff
#client.urgent          #D11931         #D11931         #ffffff
#bar.focused            #45347b         #45347b         #ffffff
#bar.unfocused          #dddaec         #dddaec         #45347b
#bar.urgent             #d11931         #d11931         #ffffff

# dark
client.focused            #999999      #999999      #000000
client.focused_inactive   #333333      #333333      #999999
client.unfocused          #333333      #333333      #999999
client.urgent             #8C4665      #8C5665      #999999
# XXX: REMOVED bar.focused, configure i3bar instead.
#bar.focused               #999999      #000000      #999999
#bar.unfocused             #333333      #000000      #999999
#bar.urgent                #d11931      #000000      #999999

# XXX: Automatically added a call to i3bar to provide a workspace bar
#exec i3status | i3bar -d
bar {
    colors {
        background #000000
        statusline #ffffff
        focused_workspace  #999999 #000000 #999999
        active_workspace   #999999 #000000 #999999
        inactive_workspace #333333 #000000 #999999
        urgent_workspace   #d11931 #000000 #999999
    }
    #status_command i3status
    position bottom
    tray_output none
    font pango:Inconsolata 9
    #mode hide
    #modifier $Win
}
